{
    "name": "AVHRR/3",
    "presets": [
        {
            "name": "AVHRR 221 False Color",
            "expression": "ch2, ch2, ch1",
            "image": {
                "geo_correct": true,
                "white_balance": true
            },
            "description": "descriptions/221.md"
        },
        {
            "name": "AVHRR 3a21 False Color",
            "expression": "cch3a=(3a, sun_angle_compensated_reflective_radiance, 0, 5.41665); cch2=(2, sun_angle_compensated_reflective_radiance, 0, 97.0507); cch1=(1, sun_angle_compensated_reflective_radiance, 0, 46.203); cch3a, cch2, cch1",
            "image": {
                "white_balance": true,
                "geo_correct": true
            },
            "description": "descriptions/321.md"
        },
        {
            "name": "AVHRR 3a21 False Color (uncompensated, NOAA-15)",
            "expression": "cch3a=(3a, reflective_radiance, 0,  2.5); cch2=(2, reflective_radiance, 0, 50); cch1=(1, reflective_radiance, 0, 23); cch3a, cch2, cch1",
            "image": {
                "white_balance": true,
                "geo_correct": true
            },
            "description": "descriptions/321.md"
        },
        {
            "name": "4/221 Merge",
            "expression": "ch1 < 0.065 ? (ch4 - 0.7) * 2.66 : ch2 * 2.2 - 0.15, ch1 < 0.065 ? (ch4 - 0.7) * 2.66 : ch2 * 2.2 - 0.15, ch1 < 0.065 ? (ch4 - 0.7) * 2.66 : ch1 * 2.2 - 0.15",
            "image": {
                "geo_correct": true
            },
            "description": "descriptions/4221merge.md"
        },
        {
            "name": "NOAA Natural Color",
            "expression": "cch2=(2, sun_angle_compensated_reflective_radiance, 0, 97.0507); cch1=(1, sun_angle_compensated_reflective_radiance, 0, 46.203); cch2 * 0.6 + min(cch1, cch2) * 0.4, cch2, cch1",
            "image": {
                "individual_equalize": true,
                "geo_correct": true
            },
            "description": "descriptions/NOAANatColor.md"
        },
        {
            "name": "Natural Color",
            "expression": "cch3a=(3a, sun_angle_compensated_reflective_radiance, 0, 5.41665); cch2=(2, sun_angle_compensated_reflective_radiance, 0, 97.0507); cch1=(1, sun_angle_compensated_reflective_radiance, 0, 46.203); ((0.5*max(cch3a,min(cch2,cch1)) + 0.5*cch2) / 0.85)^0.65, (cch2/0.85)^0.65, (cch1/0.85)^0.65",
            "image": {
                "geo_correct": true
            },
            "description": "descriptions/NatColor.md"
        },
        {
            "name": "AVHRR 543b IR False Color",
            "expression": "ch5, ch4, ch3b",
            "image": {
                "individual_equalize": true,
                "geo_correct": true
            },
            "description": "descriptions/543b.md"
        },
        {
            "name": "AVHRR 3b45 IR False Color",
            "expression": "ch3b, ch4, ch5",
            "image": {
                "individual_equalize": true,
                "geo_correct": true
            },
            "description": "descriptions/3b45.md"
        },
        {
            "name": "AVHRR 124 False Color (Cloud RGB)",
            "expression": "cch1=(1, sun_angle_compensated_reflective_radiance, 0, 46.203); cch2=(2, sun_angle_compensated_reflective_radiance, 0, 97.0507); cch4=(4, brightness_temperature, 203, 323); cch1, cch2, 1-cch4",
            "image": {
                "geo_correct": true
            },
            "description": "descriptions/124.md"
        },
        {
            "name": "Night Microphysics",
            "expression": "cch5=(5, brightness_temperature, 200, 400); cch4=(4, brightness_temperature, 200, 400); cch3b=(3b, brightness_temperature, 200, 400); 1-(3/200-cch5+cch4)*(200/10.5), 1-(7/200-cch4+cch3b)*(200/9.9), ((cch4*200+200-243.7)/(293.2-243.7))",
            "image": {
                "geo_correct": true
            },
            "description": "descriptions/NightMicro.md"
        },
        {
            "name": "Day Microphysics (Metop)",
            "expression": "cch1=(1, sun_angle_compensated_reflective_radiance, 0, 46.203); cch3a=(3a, sun_angle_compensated_reflective_radiance, 0, 1.4); cch4=(4, brightness_temperature, 203, 323); cch1, cch3a, cch4",
            "image": {
                "geo_correct": true,
                "equalize": true
            },
            "description": "descriptions/DayMicro.md"
        },
        {
            "name": "Day Cloud Convection",
            "expression": "cch1=(1, sun_angle_compensated_reflective_radiance, 0, 46.203); cch4=(4, brightness_temperature, 203, 323); cch1^0.58823529411,cch1^0.58823529411,1-cch4",
            "description": "descriptions/DayCloudConv.md"
        },
        {
            "name": "MCIR",
            "expression": "cch4=(4, emissive_radiance, 120.000000, 20.000000); bm=equp(maps/map_aweeri.jpg); cch4 * (cch4) + (1-cch4) * bm(0), cch4 * (cch4) + (1-cch4) * bm(1), cch4 * (cch4) + (1-cch4) * bm(2)",
            "description": "descriptions/MCIR.md"
        },
        {
            "name": "MSA (channel 1)",
            "image": {
                "geo_correct": true
            },
            "expression": "cch1=(1, sun_angle_compensated_reflective_radiance, 0.000000, 46.203000); bm=equp(maps/map_aweeri.jpg); cch1 * (cch1) + (1-cch1) * bm(0), cch1 * (cch1) + (1-cch1) * bm(1), cch1 * (cch1) + (1-cch1) * bm(2)",
            "description": "descriptions/MSA.md"
        },
        {
            "name": "MSA (channel 2)",
            "image": {
                "geo_correct": true
            },
            "expression": "cch2=(2, sun_angle_compensated_reflective_radiance, 0.000000, 46.203000); bm=equp(maps/map_aweeri.jpg); cch2 * (cch2) + (1-cch2) * bm(0), cch2 * (cch2) + (1-cch2) * bm(1), cch2 * (cch2) + (1-cch2) * bm(2)",
            "description": "descriptions/MSA.md"
        },
        {
            "name": "Snow enhancement",
            "expression": "((3*ch1-ch4)/2)^1.7, ((3*ch1+ch4)/4)^1.7, (ch1-ch3a)^1.7",
            "image": {
                "individual_equalize": true,
                "white_balance": true,
                "geo_correct": true
            },
            "description": "descriptions/Snow.md"
        },
        {
            "name": "NDVI",
            "expression": "cch1=(1, sun_angle_compensated_reflective_radiance, 0.000000, 46.203000);cch2=(2, sun_angle_compensated_reflective_radiance, 0.000000, 97.050700);lut=lut(lut/NDVI.png);lut(0, ((cch2-cch1)/((cch2+cch1) == 0 ? 0.000001 : (cch1+cch2))+1)/2, 0),lut(0, ((cch2-cch1)/((cch2+cch1) == 0 ? 0.000001 : (cch1+cch2))+1)/2, 1),lut(0, ((cch2-cch1)/((cch2+cch1) == 0 ? 0.000001 : (cch1+cch2))+1)/2, 2)",
            "image": {
                "geo_correct": true
            },
            "description": "descriptions/NDVI.md"
        },
        {
            "name": "NDWI",
            "expression": "cch2=(2, sun_angle_compensated_reflective_radiance, 0.000000, 97.050700);cch3a=(3a,  sun_angle_compensated_reflective_radiance, 0.000000, 5.416650);lut=lut(lut/NDWI.png);lut(0, 1-((cch2-cch3a)/((cch2+cch3a) == 0 ? 0.000001 : (cch3a+cch2))+1)/2, 0),lut(0, 1-((cch2-cch3a)/((cch2+cch3a) == 0 ? 0.000001 : (cch3a+cch2))+1)/2, 1),lut(0, 1-((cch2-cch3a)/((cch2+cch3a) == 0 ? 0.000001 : (cch3a+cch2))+1)/2, 2)",
            "image": {
                "geo_correct": true
            },
            "description": "descriptions/NDWI.md"
        },
        {
            "name": "Night Fog Difference",
            "expression": "a=(4, brightness_temperature, 230, 310);b=(3b, brightness_temperature, 230, 310);lut=lut(lut/cal/fog_btd.png);lut((a-b-(-0.2))/0.4, 0, 0),lut((a-b-(-0.2))/0.4, 0, 1),lut((a-b-(-0.2))/0.4, 0, 2)",
            "image": {
                "geo_correct": true
            }
        },
        {
            "name": "Split Window Difference",
            "expression": "a=(4, brightness_temperature, 150, 400);b=(5, brightness_temperature, 150, 400);lut=lut(lut/cal/IR12-IR108-7+7.png);lut((((a * 250 + 150) - (b * 250 + 150)) + 7) / 14, 0, 0),lut((((a * 250 + 150) - (b * 250 + 150)) + 7) / 14, 0, 1),lut((((a * 250 + 150) - (b * 250 + 150)) + 7) / 14, 0, 2)",
            "image": {
                "geo_correct": true
            }
        },
        {
            "name": "Night Time Fire Detection (transparent)",
            // TODOREWORK
            "description": "descriptions/NightFire.md"
        },
        {
            "name": "APT channel A",
            "expression": "cha",
            "image": {
                "equalize": true,
                "geo_correct": true
            }
        },
        {
            "name": "APT channel B",
            "expression": "chb",
            "image": {
                "equalize": true,
                "geo_correct": true
            }
        },
        {
            "name": "MCIR (Uncalibrated)",
            "description": "descriptions/MCIR.md",
            "expression": "bm=equp(maps/map_aweeri.jpg); chb * (chb) + (1-chb) * bm(0), chb * (chb) + (1-chb) * bm(1), chb * (chb) + (1-chb) * bm(2)"
        },
        {
            "name": "MSA (Uncalibrated)",
            "description": "descriptions/MSA.md",
            "expression": "bm=equp(maps/map_aweeri.jpg); ch=(cha) * 1.5;ch * (ch) + (1-ch) * bm(0), ch * (ch) + (1-ch) * bm(1), ch * (ch) + (1-ch) * bm(2)"
        },
        {
            "name": "MCIR Rain (Uncalibrated)",
            "description": "descriptions/MCIR_precip.md",
            "expression": "bm=equp(maps/map_aweeri.jpg);lut=lut(lut/cal/WXtoImg-NO.png);lut(1-chb, 0, 0) * (chb) + (1-chb) * bm(0), lut(1-chb, 0, 1) * (chb) + (1-chb) * bm(1),lut(1-chb, 0, 2) * (chb) + (1-chb) * bm(2)"
        },
        {
            "name": "HVC (channel 1)",
            "expression": "lut=lut(lut/WXtoImg-HVC-1.png); lut(ch1, ch4, 0), lut(ch1, ch4, 1), lut(ch1, ch4, 2)",
            "image": {
                "geo_correct": true
            },
            "description": "descriptions/HVC.md"
        },
        {
            "name": "HVC (channel 2)",
            "expression": "lut=lut(lut/WXtoImg-HVC-2.png); lut(ch2, ch4, 0), lut(ch2, ch4, 1), lut(ch2, ch4, 2)",
            "image": {
                "geo_correct": true
            },
            "description": "descriptions/HVC.md"
        },
        {
            "name": "Night Hotspot Detection (3.9µm)",
            "expression": "cch4=(3b, brightness_temperature_celsius, -90.000000, 40.000000);lut=lut(lut/cal/abi_ir39_-90+40.png);lut(cch4,0,0), lut(cch4,0,1), lut(cch4,0,2)",
            "image": {
                "geo_correct": true
            }
        },
        {
            "name": "Automatic IR False Color",
            "expression": "IR11=(4, brightness_temperature_celsius, -60, 40);lm=equp(maps/landmask.png);land=lut(lut/2dfc/2dfc_ir_land.png);sea=lut(lut/2dfc/2dfc_ir_sea.png);lm(0) == 1 ? land(IR11, 0, 0) : sea(IR11, 0, 0),lm(0) == 1 ? land(IR11, 0, 1) : sea(IR11, 0, 1),lm(0) == 1 ? land(IR11, 0, 2) : sea(IR11, 0, 2)",
            "image": {
                "geo_correct": true
            }
        },
        {
            "name": "Automatic Visible False Color (2-4, uncal)",
            "expression": "cch4=(4, brightness_temperature_celsius, -60.000000, 40.000000);lut=lut(lut/2dfc/2dfc_vis.png);lut(cch4,ch2^0.9,0),lut(cch4,ch2^0.9,1),lut(cch4,ch2^0.9,2)",
            "image": {
                "geo_correct": true
            }
        },
                {
            "name": "Automatic Visible False Color (2-4)",
            "expression": "cch2=(2, sun_angle_compensated_reflective_radiance, 0.000000, 95.050700);cch4=(4, brightness_temperature_celsius, -60.000000, 40.000000);lut=lut(lut/2dfc/2dfc_vis.png);lut(cch4,cch2^0.9,0),lut(cch4,cch2^0.9,1),lut(cch4,cch2^0.9,2)",
            "image": {
                "geo_correct": true
            }
        },
        {
            "name": "Automatic WEFAX-like False Color",
            "expression": "VIS=(2, reflective_radiance, 0.000000, 56.760000);lm=equp(maps/landmask.png);land=lut(lut/2dfc/2dfc_vis_wefax_land.png);sea=lut(lut/2dfc/2dfc_vis_wefax_sea.png);lm(0) == 1 ? land(VIS, 0, 0) : sea(VIS, 0, 0),lm(0) == 1 ? land(VIS, 0, 1) : sea(VIS, 0, 1),lm(0) == 1 ? land(VIS, 0, 2) : sea(VIS, 0, 2)",
            "image": {
                "geo_correct": true
            }
        }
    ],
    "default": {
        "calibration_ranges": {
            "1": {
                "min": 0,
                "max": 46.203
            },
            "2": {
                "min": 0,
                "max": 97.0507
            },
            "3a": {
                "min": 0,
                "max": 5.41665
            },
            "3b": {
                "min": 0.05,
                "max": 1
            },
            "4": {
                "min": 30,
                "max": 120
            },
            "5": {
                "min": 30,
                "max": 120
            }
        }
    }
}